安装WPS
=====

在升级到Ubuntu 13.10之后，原本准备打开操作系统的实验报告，开始做作业，结果发现打开WPS没有反应。

呃，是无论你怎么打开，它都不会有一个启动动画跳出来。

于是就切到命令行下运行……结果运行WPS后，显示:
> /opt/kingsoft/wps-office/office6/wps blabla…… 无法链接到libgthread.so …… no such file ……

嗯，真是奇怪，应该是升级带来的问题吧。

32位
-----

于是就上网查一下。发现原来是32位的兼容性问题。WPS在打包的时候是打出32位的包，然而大多数人的Linux系统都是运行64位的。

要想填平这条鸿沟，就得安装32位下的系统运行库。

之前我曾经下过这样的链接库（因为打包成32位的软件并不只有WPS一家），但是可能在升级的过程中，系统把它们当做已经没用的库删掉了。

于是乎开始寻找缺少的库。

找啊找啊找lib
-----

在搜索了一下后，发现需要下载一个`ia32-libs`，据说只要下载了这玩意，所有缺少的32位库都会装上。

但是在包管理源里，没用这个东西……估计是年代久远，已经泯灭在历史的尘埃里了。

遇到同样的问题的人显然不止我一个。有人也遇到同样的问题，他声称转为安装`g++-multi`（应该是这个名字，记不得了）就可以解决了问题。
但是却没有讲到底为什么可以解决问题。一般遇到这种情况，这样的解决方案是不可相信的。不过抱着死马当活马医，我还是试了一下。
反正也不麻烦，不是吗？

试了之后，好像有点效果，现在显示的是：
> /opt/kingsoft/wps-office/office6/wps blabla…… 无法链接到libSM.so.6 …… no such file ……

嗯，看来并没有解决问题啊……下一个是解决`libSM.so.6`这个库了。

链接libSM.so.6
-----

用了一下`locate`，发现`libSM.so.6`这个库是存在的。于是用`ln`在wps所在的目录下制造一个`libSM.so.6`的符号链接。
嗯，感觉wps被骗过了，不再提示找不到`libSM.so.6`。不过显示了`ELFCLASS64`的错误，看来这个`libSM.so.6`是64位的。

安装libSM.so.6
-----

那么继续上网查查看吧。在网上翻查了半天之后，终于发现如何安装libSM.so.6了。
只要使用`sudo apt-get install libsm6:i386`。

这当然是Debian/Ubuntu系的用法。在不同的发行版的包管理源中，可能使用不一样的命名规则。
比如`Arch`中，这个库叫做`lib32-libsm6`。

安装剩余库
-----

既然知道了库的命名规则，那么剩下的事情就简单多了。
只要运行wps，把它缺少的链接库按照同样的命名规则下载对应的就完成了。

于是在接下来的十几分钟中我体验到一种"神挡杀神，佛挡杀佛"的飙车快感。
在怒下了好几个库之后，我终于用WPS打开了文档。

哦也！

不过时间已经到了凌晨零点多了……快一点了。太困了以至于不想再写文档了。
我差点忘了一开始打开WPS是想干什么来的……

_____

最后
-----

最后附上我在微博的吐槽：

>经过一番神挡杀神，佛挡杀佛的寻找 - 安装32位库之后，我终于重新用上了WPS。
>话说WPS打包的时候不要那么坑啊，明明大多数人都是使用64位系统，就不要打成32位的包，逼得用户不得不去寻找32位的系统链接库……
>而且32位的库只会越来越难找了。本来还想做些什么，但是天色已晚，洗洗睡吧。

